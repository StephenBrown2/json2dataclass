var e={dataclass:'<span class="keyword">from</span> <span class="class-name">dataclasses</span> <span class="keyword">import</span> <span class="class-name">dataclass</span>',list:'<span class="keyword">from</span> <span class="class-name">typing</span> <span class="keyword">import</span> <span class="class-name">List</span>',datetime:'<span class="keyword">import</span> <span class="class-name">datetime</span>'},t=function(e){return e.charAt(0).toUpperCase()+e.substr(1).toLowerCase()},s=function(e,t){if("string"==typeof e||e instanceof String){var s=RegExp(/^\d{4}(-\d\d(-\d\d(T\d\d:\d\d(:\d\d)?(\.\d+)?(([+-]\d\d:\d\d)|Z)?)?)?)?$/i),n=e.match(s);return t&&n?"datetime.datetime":"str"}return"number"==typeof e&&isFinite(e)?e%1==0?"int":"float":"boolean"==typeof e?"bool":"str"},n=new function(){var e=this;this.subscribe=function(t,s){return e.events.hasOwnProperty(t)||(e.events[t]=[]),e.events[t].push(s)},this.publish=function(t,s){return void 0===s&&(s={}),e.events.hasOwnProperty(t)?e.events[t].map(function(e){return e(s)}):[]},this.events={}},a=new function(){var n=this;this.addEventListeners=function(){n.elem.addEventListener("keydown",n.onKeyDown)},this.onKeyDown=function(e){~[37,38,39,40].indexOf(e.keyCode)||e.ctrlKey||e.metaKey||e.preventDefault()},this.setData=function(e){n.data=e,n.update()},this.toggleIncludeImports=function(){n.includeImports=!n.includeImports,""!=n.data&&n.update()},this.toggleDatetime=function(){n.datetime=!n.datetime,""!=n.data&&n.update()},this.errorMessage=function(e){n.elem.innerHTML=e},this.toggleCaseStyle=function(){n.snakeCase=!n.snakeCase,""!=n.data&&n.update()},this.update=function(){if(""!=n.data){n.elem.innerHTML="";var t=[],s=JSON.parse(n.data);n.findObjs(s,t);var a="";if(n.includeImports){if(n.datetime&&(a+=e.datetime,a+="<br>"),n.imports.length>0)for(var i=0,o=n.imports;i<o.length;i+=1)a+=e[o[i]],a+="<br>";a+=e.dataclass,a+="<br><br>"}for(var r=0,d=t;r<d.length;r+=1)a+=n.createClass(d[r]),a+="<br><br>";n.elem.innerHTML=a}else n.elem.innerHTML=""},this.findObjs=function(e,a,i){void 0===i&&(i="GeneratedClass");var o={};for(var r in o[i]={},e)if(null!==e[r]&&e[r]instanceof Array){-1==n.imports.indexOf("list")&&n.imports.push("list");for(var d=0,l=e[r];d<l.length;d+=1){var c=l[d];if("string"==typeof c||c instanceof String)o[i][r]="List[str]";else if("number"==typeof c&&isFinite(c))o[i][r]="List[int]";else{var u=r.charAt(0).toUpperCase()+r.slice(1);o[i][r]="List["+u+"]";for(var p=0,m=e[r];p<m.length;p+=1)n.findObjs(m[p],a,r)}}}else null!==e[r]&&"object"==typeof e[r]?(o[i][r]=t(r),n.findObjs(e[r],a,r)):o[i][r]=s(e[r],n.datetime);a.push(o)},this.createClass=function(e){for(var s=Object.keys(e)[0],a="",i=0,o=Object.entries(e[s]);i<o.length;i+=1){var r=o[i],d=r[0],l=r[1],c=d;n.snakeCase&&(c=d.split(/(?=[A-Z])/).join("_").toLowerCase()),a+="&nbsp&nbsp&nbsp&nbsp"+c+': <span class="type">'+l+"</span>",a+="<br>"}var u='<span class="dataclass">@dataclass</span><br>',p=s;return s[0]!=s[0].toUpperCase()&&(p=t(s)),u+='<span class="keyword">class</span> <span class="class-name">'+p+"</span>:",(u+="<br>")+a},this.elem=document.querySelector(".js-python-output"),this.imports=[],this.includeImports=!1,this.datetime=!1,this.snakeCase=!0,this.data="",this.addEventListeners()};new function(e){var t=this;this.addEventListeners=function(){t.elem.addEventListener("input",t.onInput)},this.onInput=function(){try{JSON.parse(t.elem.value),t.pubSub.publish("enter-json",t.elem.value)}catch(e){t.pubSub.publish("json-error",'<span class="error-message">'+e.message+":<br>"+t.elem.value+"<span>")}},this.pubSub=e,this.elem=document.querySelector(".js-json-input"),this.addEventListeners()}(n),new function(e){var t=this;this.addEventListeners=function(){t.elem.addEventListener("change",t.onChange)},this.onChange=function(){t.pubSub.publish("toggle-import")},this.elem=document.getElementById("import-toggle"),this.pubSub=e,this.addEventListeners()}(n),new function(e){var t=this;this.addEventListeners=function(){t.elem.addEventListener("change",t.onChange)},this.onChange=function(){t.pubSub.publish("toggle-datetime")},this.elem=document.getElementById("datetime-toggle"),this.pubSub=e,this.addEventListeners()}(n),new function(e){var t=this;this.addEventListeners=function(){t.elem.addEventListener("change",t.onChange)},this.onChange=function(){t.pubSub.publish("toggle-snake-case")},this.elem=document.getElementById("snake-case-toggle"),this.pubSub=e,this.addEventListeners()}(n),new function(){var e=this;this.addEventListeners=function(){e.modalBtn.addEventListener("click",e.show),e.background.addEventListener("click",e.close),e.closeBtn.addEventListener("click",e.close)},this.show=function(){e.modal.classList.add("modal--visible"),e.background.classList.add("modal__background--visible"),e.modalBody.classList.add("modal__body--visible")},this.close=function(){e.modal.classList.remove("modal--visible"),e.background.classList.remove("modal__background--visible"),e.modalBody.classList.remove("modal__body--visible")},this.modal=document.querySelector(".js-modal"),this.modalBody=document.querySelector(".js-modal__body"),this.background=document.querySelector(".js-modal__background"),this.modalBtn=document.querySelector(".about"),this.closeBtn=document.querySelector(".js-close-btn"),this.addEventListeners()},n.subscribe("enter-json",a.setData),n.subscribe("toggle-import",a.toggleIncludeImports),n.subscribe("toggle-datetime",a.toggleDatetime),n.subscribe("toggle-snake-case",a.toggleCaseStyle),n.subscribe("json-error",a.errorMessage);
//# sourceMappingURL=bundle.js.map
